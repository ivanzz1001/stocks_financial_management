# MACD指标的原理与应用

参考文章:

- [MACD指标的原理与应用：深入解读与市场应用](https://baijiahao.baidu.com/s?id=1770685023041893363)


移动平均收敛/发散指标（Moving Average Convergence Divergence，简称MACD）是一种常用的技术分析指标，广泛应用于股票、期货和外汇等金融市场。本文将全面、细致地介绍MACD指标的原理，包括计算方法、解读方式以及在市场分析中的应用

## 1. 计算方法

1. 计算短期指数移动平均线(EMA12): 取最近12个周期的收盘价数据，计算加权平均值，得到短期指数移动平均线

  ```txt
  EMA的计算公式为:

  今日EMA = (今日收盘价 * α) + (昨日EMA * (1-α))

  其中, α = 2 / (N + 1)，N为周期数
  ```
  从上面我们看到`周期数N`越小，则`今日收盘价`的权重就会越高，这也就越能尽快体现当前的估计变化趋势。

1. 计算长期指数移动平均线(EMA26): 取最近26个周期的收盘价数据，同样计算加权平均值，得到长期指数移动平均线

1. 计算差离值(DIFF): 将短期指数移动平均线减去长期指数移动平均线，得到差离值

  ```txt
  DIFF = 12日EMA - 26日EMA
  ```

1. 计算DEA线(DIFF的9日指数移动平均线): 取前9个周期的差离值数据，计算加权平均值，得到DEA线

  ```txt
  今日DEA = 今日DIFF * α3 + 昨日DEA * (1 - α3)

  其中α3 = 2 / (N + 1)，N为周期数(这里值是9)
  ```

1. 计算MACD柱状图: 将DIFF减去DEA线，得到MACD柱状图


## 2. MACD各指标在数学意义上的解读

![mack](https://raw.githubusercontent.com/ivanzz1001/stocks_financial_management/master/stocks/MACD/image/macd_001.png)

MACD反应的是`量价关系`中的`价格走势`:

1. DIFF线

  DIFF线反应股票的近期价格走势与长期价格走势的偏移。

  - DIFF > 0: 股票近期价格开始走强，值越大表明越强势

  - DIFF = 0: 股票近期价格走势平稳

  - DIFF < 0: 股票近期价格开始走弱，值越小说明股价近期跌的越多

1. DEA线

  DEA线是对DIFF线的一个平滑。这里主要观察DIFF线和DEA线的的偏差:

  - 当DIFF线在DEA线上方: 近期股票价格继续走强

  - 当DIFF线和DEA线重合: 近期股票价格走势平稳

  - 当DIFF线在DEA线下方: 近期股票价格仍然还在以较大幅度走弱

1. MACD柱状图

  柱状图在0轴上方显示为红色，在零轴下方显示为绿色。

  - 当柱状图在0轴上方: 表明股票近期价格走强，柱子越高走强势头越大

  - 当柱状图与0轴贴合: 表明股票近期价格走势平稳

  - 当柱状图在0轴下方: 近期股票价格仍然还在以较大幅度走弱

## 3. 解读方式

- DIF线与DEA线的关系

  DIF线和DEA线的交叉点是MACD指标的重要信号。当DIF线向上穿越DEA线时，称为“金叉”，被视为买入信号；这表示短期指数移动平均线上升速度超过了长期指数移动平均线，可能预示价格上涨的趋势加强。

  相反，当DIF线向下穿越DEA线时，称为“死叉”，被视为卖出信号；这表示短期指数移动平均线下降速度超过了长期指数移动平均线，可能预示价格下跌的趋势加强。

- MACD柱状图的变化

  MACD柱状图代表差离值（DIF）与DEA线之间的差异，通常用于衡量价格动能的强度和方向。当MACD柱状图由负值转为正值，意味着短期指数移动平均线超过了长期指数移动平均线，显示为`红色`柱状图，预示价格上涨的动能增强。

  >ps: 上面原文是“显示为绿色柱状图”，根据自己的理解应该是“红色”

  相反，当MACD柱状图由正值转为负值，意味着短期指数移动平均线下跌速度超过了长期指数移动平均线，显示为红色柱状图，预示价格下跌的动能增强。柱状图的扩大表示价格动能增强，可能伴随着股价上涨或下跌的加速。

## 4. 市场应用

1. **趋势判断**

  通过观察DIF线和DEA线的位置关系和交叉情况，可以判断市场的趋势。当DIF线位于DEA线之上，显示多头市场，即短期上升趋势相对较强；当DIF线位于DEA线之下，显示空头市场，即短期下跌趋势相对较强。
  
  投资者可以根据趋势判断选择适合的交易策略，如顺势交易或逆势交易

1. **信号确认**

  MACD指标的金叉和死叉可作为买入和卖出的信号。但单独依靠这些信号进行交易容易产生误判，因此通常需要结合其他技术分析工具和市场趋势进行综合判断。

  例如，在多头市场中，当DIF线向上穿越DEA线时，可视为买入机会的一种确认信号；在空头市场中，当DIF线向下穿越DEA线时，可视为卖出机会的一种确认信号。

  >ps: 这里可结合“走势中枢” 和 “成交量”等指标确认当前是属于哪一种走势

1. **动能观察**

  通过观察MACD柱状图的变化，可以判断价格的动力和趋势的强弱。当MACD柱状图放大，表示差离值与DEA线之间的差异扩大，显示价格动能增强，可能伴随着股价上涨或下跌的加速。

  反之，当MACD柱状图缩小，表示价格动能减弱，可能预示着价格即将进入盘整或转势的阶段。

  >ps: 这里可协助用于观察股票走势的背驰情况

1. **顶底背离预警**

  顶底背离是指价格与MACD柱状图之间出现背离的情况。顶背离发生在股票价格创新高而MACD柱状图未能创新高时，可能暗示价格即将回调；底背离发生在股票价格创新低而MACD柱状图未能创新低时，可能预示价格反弹。
  
  这种背离现象可能成为价格转折的预警信号，但需要结合其他技术指标和市场趋势进行综合判断。

## 5. 结 论

MACD指标通过计算指数移动平均线之间的差异，并将其表示为DIF线、DEA线和柱状图，帮助投资者判断趋势、确认买卖信号和观察动能。

然而，MACD指标作为一种技术分析工具，也存在滞后性和误判的风险。因此，在使用MACD指标时，应结合其他技术指标和市场情况进行综合分析，以增强决策的准确性和可靠性。

投资者在运用MACD指标时应谨慎，并充分理解其原理和局限性，结合个人投资目标和风险承受能力来制定适当的交易策略。